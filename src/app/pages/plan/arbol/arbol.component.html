<!-- <mat-card *ngIf="planId == 1" style="width:calc(96vw - 40px);"> -->
    <ng-container *ngIf="tipoPlanId == '611af8464a34b3599e3799a2'">
        <!-- <mat-form-field appearance="outline" [style.width.%]="25">
            <mat-label id="busqueda-input-label">Buscar:</mat-label>
            <input matInput [(ngModel)]="stringBusqueda" (ngModelChange)="filterSearch()" id="search"  placeholder="Digite para buscar">
            <mat-icon matSuffix>search</mat-icon>
        </mat-form-field> -->
        <p>En este modulo se le permitirá registrar un PUI. Por favor tener a la mano la evidencia del acto administrativo.
            A continuación podrá ingresar la información deseada.
        </p>
        <form [formGroup]="formConstruirPUI" (ngSubmit)="buildPUI()">
            <mat-form-field appearance="outline" [style.width.%]="100">
                <mat-label id="informacion-input-label">Información:</mat-label>
                <textarea matInput formControlName="infoControl" id="info" placeholder="Escriba la información deseada" required></textarea>
                <mat-icon matSuffix>create</mat-icon>
                <mat-error *ngIf="formConstruirPUI.get('infoControl').invalid">
                    {{getErrorMessage(formConstruirPUI.get('infoControl'))}}
                </mat-error>
            </mat-form-field>
            <p>Adjunte el documento <b color="red">*</b></p>
            <mat-form-field appearance="legacy" [style.width.%]="60">
                <mat-label *ngIf="selectedFiles; else newFile"> &nbsp;&nbsp; {{selectedFiles.item(0).name}}</mat-label>
                <ng-template #newFile>
                    <mat-label>&nbsp;&nbsp; Selecciona un archivo</mat-label>               
                </ng-template>
                <input matInput disabled>
                <button mat-raised-button matPrefix color="primary" (click)="fileInput.click()">Examinar</button>
                <input #fileInput style="display:none" formControlName="requiredfile" (change)="selectFile($event)" type="file" required>
            </mat-form-field>
            <mat-error *ngIf="formConstruirPUI.get('requiredfile').invalid">
                {{getErrorMessage(formConstruirPUI.get('requiredfile'))}}
            </mat-error>
            <br><br>
            <div style="margin: 5px;">
                <button mat-raised-button color="primary" type="submit" [disabled]="!formConstruirPUI.valid">
                    Registrar
                </button>
            </div>
        </form>
    </ng-container>
<!-- </mat-card> -->

<!-- <mat-card *ngIf="planId !== 1 && planId !== undefined" style="width:calc(96vw - 40px);"> -->
    <ng-container *ngIf="tipoPlanId == '611af8364a34b3b2df3799a0' && mostrar">
        <mat-form-field appearance="outline" [style.width.%]="25">
            <mat-label id="busqueda-input-label">Buscar:</mat-label>
            <input matInput [(ngModel)]="stringBusqueda" (ngModelChange)="filterSearch()" id="search"  placeholder="Digite para buscar">
            <mat-icon matSuffix>search</mat-icon>
        </mat-form-field>
        <!-- <mat-form-field appearance="standard">
            <mat-label>Filter</mat-label>
            <input matInput (keyup)="applyFilter($event)" placeholder="Digite para filtrar" #fil>
        </mat-form-field> -->
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
            <ng-container matColumnDef="nombre">
              <th mat-header-cell *matHeaderCellDef> 
                <span [style.paddingLeft.px]="40"> Nombre </span>
              </th>
              <td mat-cell *matCellDef="let data"> 
                <button mat-icon-button 
                        [style.visibility]="!data.expandable ? 'hidden' : ''"
                        [style.marginLeft.px]="data.level * 32"
                        (click)="treeControl.toggle(data)">
                  <mat-icon class="mat-icon-rtl-mirror">
                    {{treeControl.isExpanded(data) ? 'expand_more' : 'chevron_right'}}
                  </mat-icon>
                </button>
                {{data.nombre}}
              </td>
            </ng-container> 
            <ng-container matColumnDef="descripcion">
                <th mat-header-cell *matHeaderCellDef >
                  <span [style.paddingLeft.px]="40"> Descripción </span>
                </th>
              <td mat-cell *matCellDef="let data"> {{data.descripcion}} </td>
            </ng-container> 
            <ng-container matColumnDef="activo">
                <th mat-header-cell *matHeaderCellDef >
                  <span [style.paddingLeft.px]="40"> Activo </span>
                </th>
              <td mat-cell *matCellDef="let data"> {{data.activo}} </td>
            </ng-container> 
            <ng-container matColumnDef="actions">
                <th mat-header-cell *matHeaderCellDef > 
                    <span class="header-align-right"> Acciones </span>   
                </th>
                <td mat-cell *matCellDef="let row" class="header-align-right">
                     <button mat-icon-button (click)="editar(row, 'editar')"><mat-icon>edit</mat-icon></button>
                     <button mat-icon-button (click)="agregar(row, 'agregar')"><mat-icon>add_circle_outline</mat-icon></button>
                </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row matRipple *matRowDef="let row; columns: displayedColumns;"></tr>
            <!-- <tr class="mat-row" *matNoDataRow>
                <td class="mat-cell" colspan="4">No se pudo filtrar a través de "{{fil.value}}"</td>
            </tr> -->
        </table>
    </ng-container>
<!-- </mat-card> -->